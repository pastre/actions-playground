name: Flutter pipeline

on:
  push:
    branches:
      - main
    paths:
      - flutter/**
      - .github/workflows/cd-flutter.yml

jobs:
  commit-cycle:
    runs-on: ubuntu-latest
    steps:
      - name: Build
        run: echo "Flutter test done!"
  acceptance-cycle:
    needs: [commit-cycle]
    concurrency: acceptance-cycle
    name: Acceptance cycle
    uses: ./.github/workflows/acceptance-cycle.yml
  release-cycle:
    needs: [commit-cycle, acceptance-cycle]
    concurrency: release-cycle
    name: Release cycle
    uses: ./.github/workflows/release-cycle.yml
